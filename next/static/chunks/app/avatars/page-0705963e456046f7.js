(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{1144:(e,s,a)=>{"use strict";a.d(s,{Mn:()=>t});async function t(e){try{let s=await fetch("/api/audio/voices");if(s.ok){let a=await s.json();if(a.success&&a.voices){let s=a.voices;return(null==e?void 0:e.gender)&&(s=s.filter(s=>{var a,t;return(null==(a=s.gender)?void 0:a.toLowerCase())===(null==(t=e.gender)?void 0:t.toLowerCase())})),s}}let a=new URLSearchParams;(null==e?void 0:e.gender)&&a.append("gender",e.gender);let t="/api/voices".concat(a.toString()?"?".concat(a.toString()):""),r=await fetch(t),l=await r.json();if(!l.success||!l.data)throw Error(l.error||"Failed to fetch voices");return l.data}catch(e){throw console.error("Error fetching voices:",e),Error("Failed to fetch voices")}}},1397:(e,s,a)=>{"use strict";a.d(s,{k:()=>i});var t=a(5155);a(2115);var r=a(5863),l=a(3999);function i(e){let{className:s,value:a,...i}=e;return(0,t.jsx)(r.bL,{"data-slot":"progress",className:(0,l.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...i,children:(0,t.jsx)(r.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}},2138:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3311:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},3999:(e,s,a)=>{"use strict";a.d(s,{cn:()=>l});var t=a(2596),r=a(9688);function l(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},4912:(e,s,a)=>{"use strict";a.d(s,{$:()=>n});var t=a(5155),r=a(3999),l=a(6874),i=a.n(l);let n=a(2115).forwardRef((e,s)=>{let{className:a,variant:l="primary",size:n="default",href:d,icon:c,children:o,...x}=e,u=(0,t.jsxs)(t.Fragment,{children:[c&&(0,t.jsx)("span",{className:"mr-1.5",children:c}),o]}),m=(0,r.cn)("inline-flex items-center justify-center font-medium transition-all duration-200 relative focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm rounded-md disabled:bg-blue-300 disabled:cursor-not-allowed":"primary"===l,"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500 shadow-sm rounded-md disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed":"secondary"===l,"px-3 py-1.5 text-sm":"sm"===n,"px-4 py-2 text-sm":"default"===n,"px-6 py-3 text-base":"lg"===n},a);return d?(0,t.jsx)(i(),{href:d,className:m,children:u}):(0,t.jsx)("button",{className:m,ref:s,...x,children:u})});n.displayName="Button"},4964:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>c,j7:()=>n,tU:()=>i});var t=a(5155);a(2115);var r=a(2473),l=a(3999);function i(e){let{className:s,...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,l.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,l.cn)("flex-1 outline-none",s),...a})}},5784:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>m,gC:()=>u,l6:()=>c,yv:()=>o});var t=a(5155);a(2115);var r=a(1918),l=a(6474),i=a(5196),n=a(7863),d=a(3999);function c(e){let{...s}=e;return(0,t.jsx)(r.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,t.jsx)(r.WT,{"data-slot":"select-value",...s})}function x(e){let{className:s,size:a="default",children:i,...n}=e;return(0,t.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[i,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function u(e){let{className:s,children:a,position:l="popper",...i}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-white border border-gray-200 text-gray-900 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[60] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md shadow-lg","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,t.jsx)(h,{}),(0,t.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(p,{})]})})}function m(e){let{className:s,children:a,...l}=e;return(0,t.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...l,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(i.A,{className:"size-4"})})}),(0,t.jsx)(r.p4,{children:a})]})}function h(e){let{className:s,...a}=e;return(0,t.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(n.A,{className:"size-4"})})}function p(e){let{className:s,...a}=e;return(0,t.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(l.A,{className:"size-4"})})}},7550:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7951:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},8145:(e,s,a)=>{"use strict";a.d(s,{E:()=>d});var t=a(5155);a(2115);var r=a(9708),l=a(2085),i=a(3999);let n=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:a,asChild:l=!1,...d}=e,c=l?r.DX:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(n({variant:a}),s),...d})}},8482:(e,s,a)=>{"use strict";a.d(s,{Wu:()=>d,ZB:()=>n,Zp:()=>l,aR:()=>i});var t=a(5155);a(2115);var r=a(3999);function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...a})}},8564:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},8885:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>G});var t=a(5155),r=a(2115);function l(e){let{steps:s,onStepClick:a,onNext:r,canProceedNext:l,currentStep:i}=e,n=e=>{a&&(e.completed||e.current)&&a(e.id)};return(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("nav",{className:"flex items-center space-x-2 text-sm",children:s.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer transition-colors duration-200 ".concat(e.completed||e.current?"text-blue-600":"text-gray-400"," ").concat(e.completed||e.current?"hover:text-blue-700":""),onClick:()=>n(e),children:(0,t.jsx)("span",{className:"font-medium",children:e.title})}),a<s.length-1&&(0,t.jsx)("span",{className:"mx-3 text-gray-300",children:"/"})]},e.id))}),r&&i&&i<s.length&&l&&(0,t.jsxs)("button",{onClick:r,className:"flex items-center space-x-1 text-sm bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[(0,t.jsx)("span",{children:"Next Step"}),(0,t.jsx)("span",{children:"→"})]})]})})})}var i=a(4912),n=a(9474),d=a(8482),c=a(5784),o=a(8145),x=a(4964),u=a(5273),m=a(7395),h=a(5690),p=a(5517),g=a(3500),v=a(9588),f=a(2713),b=a(4186),j=a(1951),y=a(9869),N=a(4416),w=a(2178),A=a(1788),C=a(6766);function k(e){let{selectedAvatar:s,voices:a,script:l,onScriptChange:k,selectedVoice:_,onVoiceChange:E,generatedAudioUrl:S,onGenerateAudio:L,isGeneratingAudio:P,audioError:F}=e,[V,z]=(0,r.useState)("text-to-audio"),[U,T]=(0,r.useState)(!1),[O,R]=(0,r.useState)(!1),[M,G]=(0,r.useState)(!1),[I,$]=(0,r.useState)(null),[q,Y]=(0,r.useState)(0),[D,Z]=(0,r.useState)(!1),W=(0,r.useRef)(null),B=(0,r.useRef)(null),H=(0,r.useRef)(null),X=Math.ceil(l.length/150),K=(.022*X).toFixed(3),J=()=>$(null);(0,r.useEffect)(()=>{_&&Y(e=>e+1)},[null==_?void 0:_.id]),(0,r.useEffect)(()=>{Z(!1),$(null),delete window.convertedAudioUrl},[V]);let Q=async e=>{if(!_)return void $("Please select a voice first");G(!0),J();try{let s=new FormData;s.append("audio",e),s.append("voiceId",_.provider_voice_id||_.id),s.append("modelId","eleven_multilingual_sts_v2"),s.append("removeBackgroundNoise","true");let a=await fetch("/api/audio/voice-changer",{method:"POST",body:s}),t=await a.json();t.success?(Z(!0),window.convertedAudioUrl=t.audioUrl,$(null),L()):$("Failed to convert audio: "+t.error)}catch(e){console.error("Error converting audio:",e),$("Failed to convert audio")}finally{G(!1)}},ee=async()=>{try{J();let e=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new MediaRecorder(e),a=[];s.ondataavailable=e=>{a.push(e.data)},s.onstop=async()=>{let s=new Blob(a,{type:"audio/wav"});await Q(new File([s],"recording.wav",{type:"audio/wav"})),e.getTracks().forEach(e=>e.stop())},W.current=s,s.start(),T(!0)}catch(e){console.error("Error starting recording:",e),$("Failed to start recording. Please check microphone permissions.")}},es=async e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){if(a.size>0x3200000)return void $("Audio file must be less than 50MB");await Q(a)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full",children:(0,t.jsx)(u.A,{className:"w-10 h-10 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Audio for Your Avatar"}),(0,t.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Choose a voice and create your script to generate professional audio"})]}),(0,t.jsxs)("div",{className:"inline-flex items-center space-x-4 bg-white border border-gray-200 rounded-full px-6 py-3 shadow-sm",children:[(0,t.jsx)(C.default,{src:s.preview_image_url,alt:s.name,width:40,height:40,className:"rounded-full object-cover border-2 border-gray-100"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:s.name}),s.category&&(0,t.jsx)(o.E,{variant:"secondary",className:"text-xs mt-1",children:s.category})]})]})]}),(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,t.jsxs)(d.Zp,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[(0,t.jsxs)(d.aR,{className:"pb-6",children:[(0,t.jsxs)(d.ZB,{className:"flex items-center space-x-3 text-2xl",children:[(0,t.jsx)(m.A,{className:"w-7 h-7 text-blue-600"}),(0,t.jsx)("span",{children:"Choose Your Voice"})]}),(0,t.jsx)("p",{className:"text-gray-600 text-lg",children:"Select a voice that matches your avatar's personality and style"})]}),(0,t.jsxs)(d.Wu,{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Voice Selection"}),(0,t.jsxs)(c.l6,{value:null==_?void 0:_.id,onValueChange:e=>{let s=a.find(s=>s.id===e);s&&E(s)},children:[(0,t.jsx)(c.bq,{className:"h-auto py-5 text-left border-2 border-gray-200 hover:border-blue-300 transition-colors",children:(0,t.jsx)(c.yv,{placeholder:"Select a voice from our premium collection",children:_&&(0,t.jsx)("div",{className:"flex items-center space-x-3",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-semibold text-lg",children:_.name}),"elevenlabs"===_.provider&&(0,t.jsx)(o.E,{variant:"default",className:"text-xs bg-blue-600 text-white px-2 py-1",children:"ElevenLabs"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500 mt-1",children:[_.accent||"Unknown"," •"," ",_.age||"Unknown"," •"," ",_.gender||"Unknown"]})]})})})}),(0,t.jsx)(c.gC,{className:"max-h-96 w-full min-w-[400px] bg-white border-2 border-gray-200 shadow-xl rounded-xl z-50",children:a.map(e=>(0,t.jsx)(c.eb,{value:e.id,className:"py-4 cursor-pointer hover:bg-blue-50 focus:bg-blue-50 rounded-lg mx-2 my-1",children:(0,t.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-semibold text-base",children:e.name}),"elevenlabs"===e.provider&&(0,t.jsx)(o.E,{variant:"default",className:"text-xs bg-blue-600 text-white px-2 py-1",children:"ElevenLabs"})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[e.accent||"Unknown"," • ",e.age||"Unknown"," ","• ",e.gender||"Unknown"]})]})},e.id))})]})]}),(null==_?void 0:_.sample_url)&&(0,t.jsx)("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(h.A,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-base font-semibold text-gray-700",children:"Voice Preview"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Listen to how this voice sounds"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,t.jsxs)("audio",{controls:!0,className:"h-12",preload:"metadata",onError:e=>{console.error("Audio preview error:",e),console.log("Preview URL:",_.sample_url),console.log("Voice ID:",_.id)},onLoadStart:()=>{console.log("Loading preview for:",_.name,_.sample_url)},onCanPlay:()=>{console.log("Audio can play for:",_.name)},children:[(0,t.jsx)("source",{src:_.sample_url,type:"audio/mpeg"}),(0,t.jsx)("source",{src:_.sample_url,type:"audio/wav"}),(0,t.jsx)("source",{src:_.sample_url,type:"audio/mp3"}),"Your browser does not support the audio element."]},"".concat(_.id,"-").concat(q)),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"elevenlabs"===_.provider?"ElevenLabs Preview":"Voice Sample"})]})]})}),_&&(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-200 shadow-sm",children:[(0,t.jsx)("h4",{className:"font-bold text-gray-900 mb-4 text-lg",children:"Voice Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 font-semibold uppercase tracking-wide text-xs",children:"Name"}),(0,t.jsx)("div",{className:"text-gray-900 font-semibold text-base mt-1",children:_.name})]}),_.gender&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 font-semibold uppercase tracking-wide text-xs",children:"Gender"}),(0,t.jsx)("div",{className:"text-gray-900 font-medium text-base mt-1 capitalize",children:_.gender})]}),_.accent&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 font-semibold uppercase tracking-wide text-xs",children:"Accent"}),(0,t.jsx)("div",{className:"text-gray-900 font-medium text-base mt-1 capitalize",children:_.accent})]}),_.age&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 font-semibold uppercase tracking-wide text-xs",children:"Age"}),(0,t.jsx)("div",{className:"text-gray-900 font-medium text-base mt-1 capitalize",children:_.age})]})]}),_.provider&&(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[(0,t.jsx)("span",{className:"text-gray-500 font-semibold uppercase tracking-wide text-xs",children:"Provider"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)("span",{className:"text-gray-900 font-medium text-base capitalize",children:_.provider}),"elevenlabs"===_.provider&&(0,t.jsx)(o.E,{variant:"default",className:"bg-blue-600 text-white",children:"Premium"})]})]})]})]})]}),(0,t.jsxs)(d.Zp,{className:"border-2 border-gray-200",children:[(0,t.jsxs)(d.aR,{className:"pb-6",children:[(0,t.jsxs)(d.ZB,{className:"flex items-center space-x-3 text-2xl",children:[(0,t.jsx)(p.A,{className:"w-7 h-7 text-green-600"}),(0,t.jsx)("span",{children:"Create Your Audio Content"})]}),(0,t.jsx)("p",{className:"text-gray-600 text-lg",children:"Choose how you want to create your audio content"})]}),(0,t.jsx)(d.Wu,{className:"space-y-8",children:(0,t.jsxs)(x.tU,{value:V,onValueChange:e=>z(e),children:[(0,t.jsxs)(x.j7,{className:"grid w-full grid-cols-2 h-14 p-1 bg-gray-100",children:[(0,t.jsxs)(x.Xi,{value:"text-to-audio",className:"flex items-center space-x-2 text-base font-semibold py-3",children:[(0,t.jsx)(g.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Text to Audio"})]}),(0,t.jsxs)(x.Xi,{value:"audio-to-audio",className:"flex items-center space-x-2 text-base font-semibold py-3",children:[(0,t.jsx)(v.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Audio to Audio"})]})]}),(0,t.jsx)(x.av,{value:"text-to-audio",className:"space-y-6 mt-8",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 uppercase tracking-wide mb-3",children:"Write Your Script"}),(0,t.jsx)(n.T,{placeholder:"Enter your script here... Keep it natural and conversational for the best results. The AI will convert your text into speech using the selected voice.",value:l,onChange:e=>k(e.target.value),className:"min-h-[200px] text-base leading-relaxed resize-none border-2 border-gray-200 focus:border-blue-400 rounded-xl p-4"})]}),l.length>0&&(0,t.jsxs)("div",{className:"flex items-center space-x-8 text-sm text-gray-600 bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(f.A,{className:"w-4 h-4 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:l.length}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"characters"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(b.A,{className:"w-4 h-4 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-semibold text-gray-900",children:["~",X," min",1!==X?"s":""]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"duration"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-green-600 font-bold text-xs",children:"$"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-semibold text-green-600",children:["$",K]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"estimated cost"})]})]})]})]})}),(0,t.jsx)(x.av,{value:"audio-to-audio",className:"space-y-8 mt-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[(0,t.jsx)("h4",{className:"font-bold text-blue-900 mb-3 text-lg",children:"Audio to Audio Voice Conversion"}),(0,t.jsx)("p",{className:"text-blue-800",children:"Record your voice or upload an audio file. We'll convert it directly to the selected voice while preserving your emotion, timing, and delivery."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(d.Zp,{className:"border-2 border-gray-200 hover:border-red-300 transition-colors",children:(0,t.jsxs)(d.Wu,{className:"p-8 text-center space-y-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(v.A,{className:"w-10 h-10 text-red-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:"Record Audio"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Use your microphone to record directly"})]}),(0,t.jsx)(i.$,{variant:U?"primary":"secondary",onClick:U?()=>{W.current&&U&&(W.current.stop(),T(!1))}:ee,disabled:M,icon:U?(0,t.jsx)(j.A,{className:"w-5 h-5"}):(0,t.jsx)(v.A,{className:"w-5 h-5"}),className:"w-full py-3 text-base font-semibold",children:U?"Stop Recording":"Start Recording"})]})}),(0,t.jsx)(d.Zp,{className:"border-2 border-gray-200 hover:border-blue-300 transition-colors",children:(0,t.jsxs)(d.Wu,{className:"p-8 text-center space-y-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(y.A,{className:"w-10 h-10 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:"Upload Audio"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Upload an existing audio file"})]}),(0,t.jsx)(i.$,{variant:"secondary",onClick:()=>{var e;return null==(e=H.current)?void 0:e.click()},disabled:M,icon:(0,t.jsx)(y.A,{className:"w-5 h-5"}),className:"w-full py-3 text-base font-semibold",children:"Choose File"})]})})]}),M&&(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4 py-8 bg-blue-50 rounded-xl border-2 border-blue-200",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-3 border-blue-600 border-t-transparent"}),(0,t.jsx)("span",{className:"text-blue-700 font-semibold text-lg",children:"Converting audio..."})]}),I&&(0,t.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(N.A,{className:"w-6 h-6 text-red-500"}),(0,t.jsx)("span",{className:"text-red-700 font-semibold text-lg",children:"Error"})]}),(0,t.jsx)("button",{onClick:J,className:"text-red-500 hover:text-red-700 p-1",children:(0,t.jsx)(N.A,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-red-600 mt-2 text-base",children:I})]}),(0,t.jsx)("input",{ref:H,type:"file",accept:"audio/*",onChange:es,className:"hidden"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 uppercase tracking-wide mb-3",children:"Audio Conversion Result"}),(0,t.jsx)("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-xl p-4 min-h-[150px] flex items-center justify-center",children:M?(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-3 border-blue-600 border-t-transparent mx-auto"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Converting your audio to the selected voice..."})]}):D?(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(u.A,{className:"w-6 h-6 text-green-600"})}),(0,t.jsx)("p",{className:"text-green-700 font-medium",children:"Audio ready for conversion!"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Your audio will be converted to"," ",null==_?void 0:_.name,"'s voice when you generate audio"]})]}):(0,t.jsxs)("p",{className:"text-gray-500 text-center",children:["Record or upload audio to convert it to the selected voice.",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-sm",children:"Maximum file size: 50MB • Maximum duration: 5 minutes"})]})})]})]})})]})})]}),(0,t.jsx)(d.Zp,{className:"border-2 border-green-200 bg-gradient-to-r from-green-50 to-blue-50",children:(0,t.jsxs)(d.Wu,{className:"p-8 space-y-6",children:[F&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N.A,{className:"w-5 h-5 text-red-500"}),(0,t.jsx)("span",{className:"text-sm text-red-700 font-medium",children:"Audio Generation Error"})]}),(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:F})]}),(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-100 to-blue-100 rounded-full flex items-center justify-center mx-auto",children:(0,t.jsx)(u.A,{className:"w-10 h-10 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Generate Audio"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Create professional audio with your selected voice"})]}),(0,t.jsx)(i.$,{variant:"primary",onClick:L,disabled:!_||P||"text-to-audio"===V&&!l.trim()||"audio-to-audio"===V&&!D,className:"px-10 py-4 text-lg font-semibold",icon:P?(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):(0,t.jsx)(u.A,{className:"w-5 h-5"}),children:P?"Generating Audio...":"Generate Audio"})]}),S&&(0,t.jsxs)("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Your Audio is Ready!"}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsx)(i.$,{variant:"secondary",onClick:()=>{S&&B.current&&(O?(B.current.pause(),R(!1)):(B.current.play(),R(!0)))},icon:O?(0,t.jsx)(w.A,{className:"w-4 h-4"}):(0,t.jsx)(h.A,{className:"w-4 h-4"}),className:"px-6 py-3",children:O?"Pause":"Play Preview"}),(0,t.jsx)(i.$,{variant:"secondary",onClick:()=>{if(S){let e=document.createElement("a");e.href=S,e.download="generated-audio.mp3",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},icon:(0,t.jsx)(A.A,{className:"w-4 h-4"}),className:"px-6 py-3",children:"Download"})]})]}),(0,t.jsx)("audio",{ref:B,src:S,onEnded:()=>R(!1),className:"hidden"})]}),(!_||"text-to-audio"===V&&!l.trim()||"audio-to-audio"===V&&!D)&&(0,t.jsxs)("div",{className:"text-center space-y-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Complete the requirements to generate audio:"}),(0,t.jsxs)("div",{className:"flex justify-center space-x-6 text-sm",children:["text-to-audio"===V?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(l.trim()?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:l.trim()?"text-green-600":"text-gray-400",children:"Script written"})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(D?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:D?"text-green-600":"text-gray-400",children:"Audio provided"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(_?"bg-green-500":"bg-gray-300")}),(0,t.jsx)("span",{className:_?"text-green-600":"text-gray-400",children:"Voice selected"})]})]})]})]})})]})]})}var _=a(1397),E=a(9803),S=a(3311);let L=(0,a(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var P=a(3904);function F(e){let{selectedAvatar:s,selectedVoice:a,script:l,onGenerateVideo:n,isGeneratingVideo:c,generatedVideoUrl:x,generationProgress:u,videoError:m}=e,[h,p]=(0,r.useState)(null),[g,v]=(0,r.useState)(!1),f=Math.ceil(l.length/150),j=async()=>{if(x){v(!0);try{let e=await fetch(x);if(!e.ok)throw Error("Failed to fetch video");let s=await e.blob(),a=window.URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download="avatar-video-".concat(Date.now(),".mp4"),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(a)}catch(e){console.error("Download failed:",e),window.open(x,"_blank")}finally{v(!1)}}},y=()=>{p("Failed to load video preview")},w=()=>{p(null)},k=()=>u<20?"Initializing avatar...":u<40?"Processing audio track...":u<60?"Syncing facial expressions...":u<80?"Applying lip-sync technology...":u<100?"Finalizing video render...":"Video ready!";return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full",children:(0,t.jsx)(E.A,{className:"w-8 h-8 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Generate Your Video"}),(0,t.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Create a professional video with your selected avatar and voice"})]})]}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsxs)(d.Zp,{className:"border-2 border-gray-200",children:[(0,t.jsx)(d.aR,{children:(0,t.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(S.A,{className:"w-5 h-5 text-purple-500"}),(0,t.jsx)("span",{children:"Video Summary"})]})}),(0,t.jsxs)(d.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-700",children:"Selected Avatar"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(C.default,{src:s.preview_image_url,alt:s.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200",width:48,height:48}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-medium",children:s.name}),s.featured&&(0,t.jsxs)(o.E,{className:"bg-purple-100 text-purple-700 text-xs",children:[(0,t.jsx)(S.A,{className:"w-3 h-3 mr-1"}),"Featured"]})]}),s.category&&(0,t.jsx)(o.E,{variant:"secondary",className:"text-xs mt-1",children:s.category})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-700",children:"Selected Voice"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:a.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[a.accent," • ",a.age," •"," ",a.gender]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:l.length}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Characters"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1 text-2xl font-bold text-gray-900",children:[(0,t.jsx)(b.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:f})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Estimated Minutes"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-1 text-2xl font-bold text-gray-900",children:[(0,t.jsx)(L,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"$0.50"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Estimated Cost"})]})]})]})]}),(0,t.jsx)(d.Zp,{className:"border-2 border-green-200 bg-green-50/30",children:(0,t.jsxs)(d.Wu,{className:"p-8 space-y-8",children:[!c&&!x&&(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Ready to Generate"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Your avatar, voice, and script are all set. Click below to create your video."})]}),(0,t.jsx)(i.$,{variant:"primary",onClick:n,className:"px-8 py-4 text-lg",icon:(0,t.jsx)(E.A,{className:"w-6 h-6"}),children:"Generate Video with Avatar"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 max-w-md mx-auto",children:"This process typically takes 2-5 minutes depending on video length. You'll be able to preview and download your video once it's ready."})]}),c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("div",{className:"inline-flex items-center space-x-3",children:[(0,t.jsx)(P.A,{className:"w-6 h-6 animate-spin text-blue-500"}),(0,t.jsx)("span",{className:"text-xl font-semibold text-gray-900",children:"Generating Video"})]}),(0,t.jsx)("p",{className:"text-gray-600",children:k()})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-gray-700",children:k()}),(0,t.jsxs)("span",{className:"font-bold text-gray-900",children:[u,"%"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(_.k,{value:u,className:"h-3"}),(0,t.jsx)("div",{className:"absolute top-0 left-0 h-full rounded-full transition-all duration-300 ".concat(u<25?"bg-red-500":u<50?"bg-orange-500":u<75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(u,"%")}})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 animate-pulse"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"Processing in progress"}),(0,t.jsx)("p",{children:"We're using advanced AI to sync your avatar's movements with the audio. This ensures natural-looking speech and expressions."})]})]})})]}),m&&!c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-red-800",children:"Video Generation Failed"}),(0,t.jsx)("p",{className:"text-red-600",children:"There was an error generating your video. Please try again."})]}),(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(N.A,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{className:"text-sm text-red-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"Error Details:"}),(0,t.jsx)("p",{children:m})]})]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(i.$,{variant:"primary",onClick:n,className:"px-8 py-4 text-lg",icon:(0,t.jsx)(P.A,{className:"w-6 h-6"}),children:"Try Again"})})]}),x&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-green-800",children:"Video Generated Successfully!"}),(0,t.jsx)("p",{className:"text-green-600",children:"Your professional avatar video is ready for preview and download."})]}),h&&(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(N.A,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"Video Preview Error:"}),(0,t.jsx)("p",{children:h}),(0,t.jsx)("p",{className:"mt-1",children:"You can still download the video using the button below."}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline text-xs",children:"Open video in new tab"})})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg",children:(0,t.jsx)("div",{className:"aspect-video bg-gray-100 relative",children:h?(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)(N.A,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Video preview unavailable"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Use download button to get the video"})]})}):(0,t.jsx)("video",{src:x,className:"w-full h-full object-cover",controls:!0,poster:s.preview_image_url,onError:e=>{console.error("Video error:",e),y()},onLoadedData:()=>{w()},preload:"metadata",playsInline:!0})})}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsx)(i.$,{variant:"primary",onClick:j,icon:g?(0,t.jsx)(P.A,{className:"w-5 h-5 animate-spin"}):(0,t.jsx)(A.A,{className:"w-5 h-5"}),className:"px-6",disabled:g,children:g?"Downloading...":"Download Video"}),(0,t.jsx)(i.$,{variant:"secondary",onClick:()=>{navigator.share&&navigator.share({title:"Generated Avatar Video",url:x})},className:"px-6",children:"Share"})]}),(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(E.A,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{className:"text-sm text-green-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"Video Quality: HD 1080p"}),(0,t.jsx)("p",{children:"Professional quality video ready for social media, presentations, or marketing campaigns."})]})]})})]})]})})]})]})}var V=a(7924),z=a(6932),U=a(8564),T=a(7951),O=a(7550),R=a(2138),M=a(1144);function G(){var e,s,a;let[n,d]=(0,r.useState)(1),[c,o]=(0,r.useState)(null),[x,u]=(0,r.useState)(null),[m,h]=(0,r.useState)({searchTerm:"",gender:"all",age:"all",ethnicity:"all",useCase:"all",featured:"all",premium:"all",type:"all",minOutfits:1,showFilters:!1}),[p,g]=(0,r.useState)(""),[v,f]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),[y,w]=(0,r.useState)(!1),[A,_]=(0,r.useState)(null),[E,S]=(0,r.useState)(!1),[L,P]=(0,r.useState)(null),[G,I]=(0,r.useState)(0),[$,q]=(0,r.useState)(null),{avatarGroups:Y,loading:D,error:Z}=function(){let[e,s]=(0,r.useState)([]),[a,t]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{t(!0);let e=await fetch("/api/avatars/by-person");if(!e.ok)throw Error("Failed to fetch avatar groups");let a=await e.json();if(!a.success)throw Error(a.error);s(a.data)}catch(e){i(e instanceof Error?e.message:"Failed to load avatar groups")}finally{t(!1)}})()},[]),{avatarGroups:e,loading:a,error:l}}(),{avatars:W,loading:B,error:H}=function(e){let[s,a]=(0,r.useState)([]),[t,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return void a([]);(async()=>{try{l(!0);let s=await fetch("/api/avatars/by-person?group=".concat(encodeURIComponent(e)));if(!s.ok)throw Error("Failed to fetch group avatars");let t=await s.json();if(!t.success)throw Error(t.error);a(t.data)}catch(e){n(e instanceof Error?e.message:"Failed to load group avatars")}finally{l(!1)}})()},[e]),{avatars:s,loading:t,error:i}}(c),{voices:X,loading:K,error:J}=function(){let[e,s]=(0,r.useState)([]),[a,t]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{t(!0);let e=await (0,M.Mn)();s(e)}catch(e){i(e instanceof Error?e.message:"Failed to load voices")}finally{t(!1)}})()},[]),{voices:e,loading:a,error:l}}(),Q=Y.reduce((e,s)=>(s.genders.forEach(s=>s&&!e.genders.includes(s)&&e.genders.push(s)),s.ages.forEach(s=>s&&!e.ages.includes(s)&&e.ages.push(s)),s.ethnicities.forEach(s=>s&&!e.ethnicities.includes(s)&&e.ethnicities.push(s)),s.use_cases.forEach(s=>s&&!e.useCases.includes(s)&&e.useCases.push(s)),s.types.forEach(s=>s&&!e.types.includes(s)&&e.types.push(s)),e),{genders:[],ages:[],ethnicities:[],useCases:[],types:[]}),ee=Y.filter(e=>{var s;return(!m.searchTerm||!!((null==(s=e.person_group)?void 0:s.toLowerCase().includes(m.searchTerm.toLowerCase()))||e.avatar_group_id.toLowerCase().includes(m.searchTerm.toLowerCase())))&&!(e.count<m.minOutfits)&&("all"===m.gender||!!e.genders.some(e=>(null==e?void 0:e.toLowerCase())===m.gender.toLowerCase()))&&("all"===m.age||!!e.ages.some(e=>(null==e?void 0:e.toLowerCase())===m.age.toLowerCase()))&&("all"===m.ethnicity||!!e.ethnicities.some(e=>(null==e?void 0:e.toLowerCase())===m.ethnicity.toLowerCase()))&&("all"===m.useCase||!!e.use_cases.some(e=>(null==e?void 0:e.toLowerCase())===m.useCase.toLowerCase()))&&("all"===m.type||!!e.types.some(e=>(null==e?void 0:e.toLowerCase())===m.type.toLowerCase()))&&("featured"!==m.featured||!!e.has_featured)&&("standard"!==m.featured||!e.has_featured)&&("premium"!==m.premium||!!e.has_premium)&&("free"!==m.premium||!e.has_premium)}),es=()=>{h({searchTerm:"",gender:"all",age:"all",ethnicity:"all",useCase:"all",featured:"all",premium:"all",type:"all",minOutfits:1,showFilters:!1})},ea=[{id:1,title:"Select Person",description:"Choose your avatar person",completed:!!c,current:1===n},{id:2,title:"Select Outfit",description:"Pick the avatar variation",completed:!!x,current:2===n},{id:3,title:"Create Audio",description:"Choose voice & generate audio",completed:!!b,current:3===n},{id:4,title:"Generate Video",description:"Produce final video",completed:!!L,current:4===n}],et=async()=>{let e=window.convertedAudioUrl;if(e){j(e),delete window.convertedAudioUrl;return}if(p.trim()&&v){w(!0),_(null);try{let e=await fetch("/api/audio/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:p,voiceId:v.provider_voice_id||v.id})}),s=await e.json();s.success?j(s.audioUrl):_("Failed to generate audio: "+s.error)}catch(e){console.error("Error generating audio:",e),_("Failed to generate audio")}finally{w(!1)}}},er=async()=>{if(x&&v&&b){S(!0),I(0),q(null),P(null);try{let e=await fetch("/api/heygen/generate-video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarId:x.id,voiceId:v.id,script:p.trim()||"Audio-to-audio conversion",audioUrl:b})}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to start video generation");I(10);let a=setInterval(async()=>{try{let e=await fetch("/api/heygen/video-status?id=".concat(s.data.id)),t=await e.json();if(!t.success)throw Error(t.error||"Failed to check video status");let r=t.data.status;if("processing"===r)I(e=>Math.min(e+5,85));else if("completed"===r)I(100),P(t.data.video_url),S(!1),clearInterval(a);else if("failed"===r)throw Error(t.data.error_message||"Video generation failed")}catch(e){console.error("Error checking video status:",e),q(e instanceof Error?e.message:"Failed to check video status"),S(!1),clearInterval(a)}},3e3);setTimeout(()=>{clearInterval(a),E&&(q("Video generation timed out. Please try again."),S(!1))},3e5)}catch(e){console.error("Error generating video:",e),q(e instanceof Error?e.message:"Failed to generate video"),S(!1),I(0)}}},el=!!c,ei=el&&!!x,en=ei&&!!b,ed=(0,r.useCallback)(()=>{1===n&&el?d(2):2===n&&ei?d(3):3===n&&en&&d(4)},[n,el,ei,en]);(0,r.useEffect)(()=>{c&&(u(null),j(null),P(null),q(null),S(!1),I(0))},[c]),(0,r.useEffect)(()=>{x&&(j(null),P(null),q(null),S(!1),I(0))},[x]),(0,r.useEffect)(()=>{b&&(P(null),q(null),S(!1),I(0))},[b]),(0,r.useEffect)(()=>{let e=e=>{"Enter"===e.key&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&(1===n&&el||2===n&&ei||3===n&&en)&&ed()};return window.addEventListener("keypress",e),()=>window.removeEventListener("keypress",e)},[n,el,ei,en,ed]);let ec=()=>{if(1===n&&!c)return{title:"Person Selection Required",description:"Choose a person from the avatar gallery to see their different outfits and poses."};if(2!==n||ei){if(3===n&&!en)return{title:"Audio Generation Required",description:"Generate audio with your script and selected voice to proceed to video creation. This ensures perfect synchronization between your avatar's movements and speech."}}else{let e=Y.find(e=>e.avatar_group_id===c);return{title:"Avatar Outfit Selection Required",description:"Choose an outfit/pose for ".concat((null==e?void 0:e.person_group)||"this person"," to proceed to audio creation. Each outfit may have different expressions and backgrounds available.")}}return null};return D||K?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading avatar people..."})]})}):Z||J?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-red-600 mb-4",children:["Error: ",Z||J]}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-900 text-center",children:"HeyGen Avatar Video Generator"})})}),(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)(l,{steps:ea,onStepClick:e=>{let s=ea.find(s=>s.id===e);s&&(s.completed||s.current)&&d(e)},onNext:ed,canProceedNext:1===n&&el||2===n&&ei||3===n&&en,currentStep:n}),(0,t.jsxs)("div",{className:"mb-6",children:[1===n&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Choose Your Avatar Person"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Select a person from our gallery. You'll be able to choose their specific outfit and pose in the next step."})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(V.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)("input",{type:"text",placeholder:"Search people...",value:m.searchTerm,onChange:e=>h(s=>({...s,searchTerm:e.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m.searchTerm&&(0,t.jsx)("button",{onClick:()=>h(e=>({...e,searchTerm:""})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(N.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>h(e=>({...e,showFilters:!e.showFilters})),className:"flex items-center space-x-2 px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,t.jsx)(z.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Filters"})]}),("all"!==m.gender||"all"!==m.age||"all"!==m.ethnicity||"all"!==m.useCase||"all"!==m.featured||"all"!==m.premium||"all"!==m.type||m.minOutfits>1)&&(0,t.jsxs)("span",{className:"text-sm text-blue-600 font-medium",children:[ee.length," of ",Y.length," ","people"]})]}),(m.searchTerm||"all"!==m.gender||"all"!==m.age||"all"!==m.ethnicity||"all"!==m.useCase||"all"!==m.featured||"all"!==m.premium||"all"!==m.type||m.minOutfits>1)&&(0,t.jsx)("button",{onClick:es,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),m.showFilters&&(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,t.jsxs)("select",{value:m.gender,onChange:e=>h(s=>({...s,gender:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Genders"}),Q.genders.map(e=>(0,t.jsx)("option",{value:e.toLowerCase(),children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),(0,t.jsxs)("select",{value:m.age,onChange:e=>h(s=>({...s,age:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Ages"}),Q.ages.map(e=>(0,t.jsx)("option",{value:e.toLowerCase(),children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ethnicity"}),(0,t.jsxs)("select",{value:m.ethnicity,onChange:e=>h(s=>({...s,ethnicity:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Ethnicities"}),Q.ethnicities.map(e=>(0,t.jsx)("option",{value:e.toLowerCase(),children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Use Case"}),(0,t.jsxs)("select",{value:m.useCase,onChange:e=>h(s=>({...s,useCase:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Use Cases"}),Q.useCases.map(e=>(0,t.jsx)("option",{value:e.toLowerCase(),children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured"}),(0,t.jsxs)("select",{value:m.featured,onChange:e=>h(s=>({...s,featured:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Types"}),(0,t.jsx)("option",{value:"featured",children:"Featured Only"}),(0,t.jsx)("option",{value:"standard",children:"Standard Only"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Premium"}),(0,t.jsxs)("select",{value:m.premium,onChange:e=>h(s=>({...s,premium:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"All Tiers"}),(0,t.jsx)("option",{value:"premium",children:"Premium Only"}),(0,t.jsx)("option",{value:"free",children:"Free Only"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Min Outfits (",m.minOutfits,")"]}),(0,t.jsx)("input",{type:"range",min:"1",max:"50",value:m.minOutfits,onChange:e=>h(s=>({...s,minOutfits:parseInt(e.target.value)})),className:"w-full"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"1"}),(0,t.jsx)("span",{children:"50+"})]})]})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:ee.map(e=>{var s;return(0,t.jsxs)("div",{className:"cursor-pointer rounded-lg border-2 transition-all duration-200 hover:shadow-md ".concat(c===e.avatar_group_id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>o(e.avatar_group_id),children:[(0,t.jsxs)("div",{className:"aspect-square relative overflow-hidden rounded-t-lg",children:[(0,t.jsx)(C.default,{src:null==(s=e.avatars[0])?void 0:s.preview_image_url,alt:e.person_group||e.avatar_group_id,className:"w-full h-full object-cover",layout:"fill"}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[e.has_featured&&(0,t.jsxs)("div",{className:"bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,t.jsx)(U.A,{className:"w-3 h-3"}),"Featured"]}),e.has_premium&&(0,t.jsxs)("div",{className:"bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,t.jsx)(T.A,{className:"w-3 h-3"}),"Premium"]})]})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 text-sm truncate",children:e.person_group||"Person ".concat(e.avatar_group_id.slice(0,8))}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.count," outfit",1!==e.count?"s":""]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.genders.slice(0,1).map(e=>(0,t.jsx)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:e},e)),e.ages.slice(0,1).map(e=>(0,t.jsx)("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded",children:e},e))]})]})]},e.avatar_group_id)})}),0===ee.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500",children:m.searchTerm||"all"!==m.gender||"all"!==m.age||"all"!==m.ethnicity||"all"!==m.useCase||"all"!==m.featured||"all"!==m.premium||"all"!==m.type||m.minOutfits>1?"No people match your current filters":"No avatar people available"}),(m.searchTerm||"all"!==m.gender||"all"!==m.age||"all"!==m.ethnicity||"all"!==m.useCase||"all"!==m.featured||"all"!==m.premium||"all"!==m.type||m.minOutfits>1)&&(0,t.jsx)("button",{onClick:es,className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Clear filters to see all people"})]})]}),2===n&&c&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Choose"," ",(null==(e=Y.find(e=>e.avatar_group_id===c))?void 0:e.person_group)||"Person","'s Outfit"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Select the specific outfit and pose for this person. Each option may have different expressions and styles."})]}),B&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading outfits..."})]}),H&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsxs)("p",{className:"text-red-600",children:["Error: ",H]})}),!B&&!H&&(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:W.map(e=>(0,t.jsxs)("div",{className:"cursor-pointer rounded-lg border-2 transition-all duration-200 hover:shadow-md ".concat((null==x?void 0:x.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>u(e),children:[(0,t.jsxs)("div",{className:"aspect-square relative overflow-hidden rounded-t-lg",children:[(0,t.jsx)(C.default,{src:e.preview_image_url,alt:e.name,className:"w-full h-full object-cover",layout:"fill"}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[e.featured&&(0,t.jsx)("div",{className:"bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full text-xs font-medium",children:"Featured"}),e.premium&&(0,t.jsx)("div",{className:"bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Premium"})]})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 text-sm truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.gender&&(0,t.jsx)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:e.gender}),e.age&&(0,t.jsx)("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded",children:e.age}),e.ethnicity&&(0,t.jsx)("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded",children:e.ethnicity})]}),e.style&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:e.style})]})]},e.id))}),!B&&!H&&0===W.length&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No outfits available for this person"})})]}),3===n&&x&&(0,t.jsx)(k,{selectedAvatar:x,voices:X,script:p,onScriptChange:g,selectedVoice:v,onVoiceChange:f,generatedAudioUrl:b,onGenerateAudio:et,isGeneratingAudio:y,audioError:A}),4===n&&x&&v&&(0,t.jsx)(F,{selectedAvatar:{id:x.id,name:x.name,preview_image_url:x.preview_image_url,category:x.category||void 0,featured:x.featured||void 0},selectedVoice:{...v,accent:v.accent||void 0,age:v.age||void 0,gender:v.gender||void 0},script:p,onGenerateVideo:er,isGeneratingVideo:E,generatedVideoUrl:L,generationProgress:G,videoError:$})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-4 border-t border-gray-200",children:[(0,t.jsx)(i.$,{variant:"secondary",onClick:()=>{n>1&&d(n-1)},disabled:1===n,icon:(0,t.jsx)(O.A,{className:"w-4 h-4"}),className:"text-sm",children:"Previous"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-500 font-medium",children:["Step ",n," of ",ea.length]}),(1===n&&el||2===n&&ei||3===n&&en)&&(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Press Enter to continue"})]}),n<4?(0,t.jsx)(i.$,{variant:"primary",onClick:ed,disabled:1===n&&!el||2===n&&!ei||3===n&&!en,icon:(0,t.jsx)(R.A,{className:"w-4 h-4"}),className:"text-sm px-6 py-3 font-semibold ".concat((1!==n||el)&&(2!==n||ei)&&(3!==n||en)?"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg":"opacity-50 cursor-not-allowed"),children:"Continue"}):(0,t.jsx)("div",{className:"w-[100px]"})]}),ec()&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-400 text-sm",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-1",children:null==(s=ec())?void 0:s.title}),(0,t.jsx)("p",{className:"text-blue-800 text-xs",children:null==(a=ec())?void 0:a.description})]})]})})]})}},8935:(e,s,a)=>{Promise.resolve().then(a.bind(a,8885))},9474:(e,s,a)=>{"use strict";a.d(s,{T:()=>l});var t=a(5155);a(2115);var r=a(3999);function l(e){let{className:s,...a}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}},9803:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[342,766,622,441,684,358],()=>s(8935)),_N_E=e.O()}]);